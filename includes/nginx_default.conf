# EC2DHIS2DOCKER CONFIGURATION FILES
# DO NOT EDIT THIS FILE IF YOU'RE NOT FAMILIAR WITH DHIS2 INSTALLATION
# Maintained by: Dexter N.(dhec.naag@gmail.com) 
# For: NUTRITION CENTER OF THE PHILIPPINES (jsolon@ncp.org.ph)
# Disclaimer: This is for testing purposes only, the Maitainer, NCP(the owner) or its affiliations is free from liabilities of any kind. 

server {

        # Server Blocks settings
        listen 80;
        server_name localhost;
        client_max_body_size 10M;

        # Proxy location on different instance set in internal, check with lynx
        location / {
        proxy_pass                http://web:8080/;
        proxy_redirect            off;
        proxy_set_header          X-Real-IP          $remote_addr;
        proxy_set_header          X-Forwarded-For    $proxy_add_x_forwarded_for;
        proxy_set_header          Host               $http_host;
        proxy_set_header          X-Forwarded-Proto  $scheme;
        proxy_buffer_size         128k;
        proxy_buffers             8 128k;
        proxy_busy_buffers_size   256k;

        }

        # Set expiration for the following file class
        location ~ \.(\.js|\.css|\.gif|\.woff|\.ttf|\.eot|\.ico|\.png)$ {
        expires                   14d;
        add_header                Pragma public;
        add_header                Cache-Control "public";

        }
}

